<ion-content id="topEv" #lentEvent [scrollEvents]="true">

          <div class="carusel-wrapper_flex" #headerWrapper>
            <app-second-header size="clear">
              <div #headerBlock  header-clear [ngClass]="headerClassName">
                <div #headerTools class="header-tools_top">
                  <app-type-swither #typeSwitcher (endingSwitchAnimation)="redirectToSight()"></app-type-swither>
                  <app-category-button #categoryButton stateType="Event"></app-category-button>
                </div>
                <div #headerToolsSearch class="header-tools_search">
                  <div>
                    <app-search-button [active]="searchActive" (changeState)="changeSearch()" (changeSearch)="searchNavigate($event)"></app-search-button>
                  </div>
                </div>
              </div>
                   
            </app-second-header>
            
            <div class="header-bottom-container">
              <div class="header-bottom-container_city" (click)="openCitySearch()">
                    {{ eventsTapeService.tapeCityName ? eventsTapeService.tapeCityName : '...' }}
              </div>
              <div class="calendar-container">
                <app-calendar-button (setDateEmit)="setDate($event)"></app-calendar-button>
              </div>
            </div>
            <div *ngIf="renderTypesInMap().length" class="category-container">
              <ng-container *ngFor="let type of renderTypesInMap()">
                  <div  class="category-container__item">
                    <app-rounded-button [close]='true' (click)="deleteTypeInStorage(type)" icon="assets/icons/category.svg" type="button" [buttonText]="type.name"></app-rounded-button>
                  </div>                
              </ng-container>
            </div>
          </div>

          <div class="grid-wrapper">
            <app-card-grid (eventClicked)="eventNavigation($event)"
             [radius]="currentRadius"
             [stopScroll]="this.eventsTapeService.nextPage" 
             [notFound]="this.eventsTapeService.notFound" 
             [spiner]="spiner" [cards]="eventsTapeService.eventsCity" 
             [separatorCards]="eventsTapeService.eventsSeparator" 
             (endScroll)="getEventsCity()"></app-card-grid>
          </div>

</ion-content>
